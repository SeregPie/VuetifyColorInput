!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("chroma-js")):"function"==typeof define&&define.amd?define(["chroma-js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).VuetifyColorInput=t(e.chroma)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{r:t,g:r,b:n,a:o})}return i(e,null,[{key:"from",value:function(e){var t=l(r.default(e).rgba(),4),n=t[0],o=t[1],i=t[2],a=t[3];return new this(n,o,i,a=Number(a.toFixed(3)))}}]),i(e,[{key:"toObject",value:function(e,t){var n=this,o=function(){var t=n.r,o=n.g,i=n.b,a=n.a;switch(e){case"hsl":var u=r.default({r:t,g:o,b:i,a:f}).hsl(),s=u.h,l=u.s,c=u.l,f=u.a;return{h:s,s:l,l:c,a:f};case"hsv":var d=r.default({r:t,g:o,b:i,a:g}).hsv(),h=d.h,p=d.s,b=d.v,g=d.a;return{h:h,s:p,v:b,a:g}}return{r:t,g:o,b:i,a:a}}();return t&&delete o.a,o}},{key:"toString",value:function(e){var t=this.r,n=this.g,o=this.b,i=this.a;switch(e){case"hex":return r.default({r:t,g:n,b:o,a:i}).hex();case"rgb":return r.default({r:t,g:n,b:o,a:i}).css()}return i<1?r.default({r:t,g:n,b:o,a:i}).css():r.default({r:t,g:n,b:o,a:i}).hex()}}]),e}(),p=Array.isArray,b=Object.is;function g(e){if(e){var t=n(e);return"object"===t||"function"===t}return!1}function v(e,t){if(b(e,t))return!0;if(p(e)){if(p(t)){var r=e.length;if(r===t.length){for(var n=0;n<r;n++)if(!v(e[n],t[n]))return!1;return!0}}}else if(g(e)&&g(t)){var o=Object.keys(e).sort();if(v(o,Object.keys(t).sort())&&(e=o.map((function(t){return e[t]})),t=o.map((function(e){return t[e]})),v(e,t)))return!0}return!1}var y,m,A={name:"VColorInput",props:{appendIcon:String,disabled:Boolean,error:Boolean,errorCount:{},errorMessages:{},hideDetails:[Boolean,String],hint:{},id:{},label:String,messages:{},noAlpha:Boolean,persistentHint:Boolean,prependIcon:{},rules:{},success:Boolean,successMessages:{},validateOnBlur:Boolean,value:{}},data:function(){return{fallbackValue:{r:0,g:0,b:0,a:0},format:"string",lazyValue:this.value,mandatory:!1,menuActive:!1,validationState:void 0}},computed:{internalValue:{get:function(){return this.getValue(this.format,this.mandatory)},set:function(e){this.lazyValue=e}},valueAsString:function(){return this.getValue("string",!0)},valueForColorPicker:function(){return this.getValue("object.rgb",!0)}},watch:{internalValue:{handler:function(e,t){v(e,t)||this.$emit("input",e)},immediate:!0},value:function(e){this.lazyValue=e}},mounted:function(){var e=this;this.$watch((function(){return e.$refs.input.validationState}),(function(t){e.validationState=t}),{immediate:!0})},methods:{getValue:function(e,t){var r=this.lazyValue;if(!r){if(!t)return null;r=this.fallbackValue}var n=h.from(r),o=this.noAlpha;switch(o&&(n.a=1),e){case"object.hsl":return n.toObject("hsl",o);case"object.hsv":return n.toObject("hsv",o);case"object.rgb":return n.toObject("rgb",o);case"string.hex":return n.toString("rgb");case"string.rgb":return n.toString("hex")}return n.toString()}},render:function(e){var t,r=this,n=this.$scopedSlots,o=this.appendIcon,i=this.disabled,a=this.error,u=this.errorCount,l=this.errorMessages,f=this.hideDetails,d=this.hint,h=this.id,p=this.internalValue,b=this.menuActive,g=this.messages,v=this.persistentHint,y=this.prependIcon,m=this.rules,A=this.success,S=this.successMessages,j=this.validateOnBlur,O=this.valueForColorPicker;return e("VInput",{props:{appendIcon:o,disabled:i,error:a,errorCount:u,errorMessages:l,hideDetails:f,hint:d,id:h,messages:g,persistentHint:v,prependIcon:y,rules:m,success:A,successMessages:S,validateOnBlur:j,value:p},on:s({},(t={},["click:append","click:prepend","update:error"].forEach((function(e){t[e]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];r.$emit.apply(r,[e].concat(n))}})),t)),scopedSlots:s({},function(e,t){var r={};return["append","message","prepend"].forEach((function(t){var n=e[t];void 0!==n&&(r[t]=n)})),r}(n)),ref:"input"},[e("VMenu",{ref:"menu",props:{closeOnContentClick:!1,disabled:i,offsetY:!0,value:b},on:{input:function(e){r.menuActive=e}},scopedSlots:{activator:function(t){var o=t.attrs,a=t.on;return e("div",{attrs:o,on:a},[e("div",{style:{alignItems:"center",display:"grid",gap:"8px",gridTemplateColumns:"auto 1fr",pointerEvents:"none",userSelect:"none"}},[e("div",{style:{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC) repeat",borderRadius:"50%",height:"24px",overflow:"hidden",width:"24px"}},r.valueAsString?[e("div",{style:{background:r.valueAsString,height:"100%",width:"100%"}})]:[])].concat(c(function(){var t,o=n.label;if(o)t=o();else{var a=r.label;if(!a)return[];t=a}var u=r.validationState;return[e("div",[e("VLabel",{props:{color:u,disabled:i,focused:!!u}},t)])]}())))])},default:function(){return e("VColorPicker",{props:{disabled:i,hideInputs:!0,value:O},on:{input:function(e){r.internalValue=e}}})}}})])}};return null===(y=globalThis.window)||void 0===y||null===(m=y.Vue)||void 0===m||m.component(A.name,A),A}));
